"use strict";(self.webpackChunktamaki_mes_docs=self.webpackChunktamaki_mes_docs||[]).push([[6951],{83680:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"appendix/script-api/track-and-trace-script-api/get-lot-trace-table","title":"getLotTraceTable","description":"Retrieves detailed rows of data for the track and trace table for the given inventory lot record IDs.","source":"@site/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-table.md","sourceDirName":"appendix/script-api/track-and-trace-script-api","slug":"/appendix/script-api/track-and-trace-script-api/get-lot-trace-table","permalink":"/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-table","draft":false,"unlisted":false,"editUrl":"https://github.com/TamakiControl/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-table.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"getLotTraceTable","description":"Retrieves detailed rows of data for the track and trace table for the given inventory lot record IDs.","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"getLotTraceGraph","permalink":"/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph"},"next":{"title":"Introduction to Units of Measure API","permalink":"/tamaki-mes-docs/docs/appendix/script-api/unit-of-measure-script-api/intro"}}');var i=r(74848),d=r(28453);const s={title:"getLotTraceTable",description:"Retrieves detailed rows of data for the track and trace table for the given inventory lot record IDs.",sidebar_position:1},c="system.mes.trackandtrace.getLotTraceTable",a={},o=[{value:"Description",id:"description",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"TraceTableRow",id:"tracetablerow",level:3},{value:"Code Example",id:"code-example",level:2},{value:"Example Output",id:"example-output",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"systemmestrackandtracegetlottracetable",children:"system.mes.trackandtrace.getLotTraceTable"})}),"\n",(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(t.p,{children:"Retrieves detailed data for the track and trace table for the given inventory lot record IDs. This function returns information about the connections between inventory lots, including source and target lots, locations, quantities, and timestamps."}),"\n",(0,i.jsxs)(t.p,{children:["While ",(0,i.jsx)(t.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph",children:(0,i.jsx)(t.code,{children:"getLotTraceGraph"})})," provides a visual representation of material flows, ",(0,i.jsx)(t.code,{children:"getLotTraceTable"})," provides more detailed tabular data about specific inventory lot records."]}),"\n",(0,i.jsx)(t.h2,{id:"permissions",children:"Permissions"}),"\n",(0,i.jsx)(t.p,{children:"This scripting function has no client permission restrictions."}),"\n",(0,i.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:"system.mes.trackandtrace.getLotTraceTable(inventoryLotRecordIds)\n"})}),"\n",(0,i.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Required"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"inventoryLotRecordIds"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"List<String>"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"List of inventory lot record IDs to retrieve"}),(0,i.jsx)(t.td,{children:"Yes"})]})})]}),"\n",(0,i.jsx)(t.h2,{id:"returns",children:"Returns"}),"\n",(0,i.jsx)(t.p,{children:"A list of trace table row objects with the following properties:"}),"\n",(0,i.jsx)(t.h3,{id:"tracetablerow",children:"TraceTableRow"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Property"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"id"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the inventory lot record"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"lotRecordType"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:'Inventory lot record type (e.g. "Consume", "Produce", "Split", "Merge")'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceInventoryLotId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the source inventory lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceInventoryLotName"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Name of the source inventory lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"targetInventoryLotId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the target inventory lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"targetInventoryLotName"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Name of the target inventory lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceLocationId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the source location"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceLocationPath"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Path of the source location"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"destinationLocationId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the destination location"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"destinationLocationPath"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Path of the destination location"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"quantity"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Double"})}),(0,i.jsx)(t.td,{children:"Quantity of the record"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"unitOfMeasureId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the unit of measure for the quantity"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"unitOfMeasureName"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Name of the unit of measure"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"unitOfMeasureSymbol"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:'Symbol of the unit of measure (e.g., "kg", "L")'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"startDate"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Date"})}),(0,i.jsx)(t.td,{children:"Record start date"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"endDate"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Date"})}),(0,i.jsx)(t.td,{children:"Record end date"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"durationInMillis"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Long"})}),(0,i.jsx)(t.td,{children:"Duration of the record in milliseconds (end date - start date)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceMaterialId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the material associated with the source lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"sourceMaterialName"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Name of the material associated with the source lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"targetMaterialId"})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,i.jsx)(t.td,{children:"ID of the material associated with the target lot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"targetMaterialName"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"String"})}),(0,i.jsx)(t.td,{children:"Name of the material associated with the target lot"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"code-example",children:"Code Example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:"# First get the trace graph to obtain the edge IDs\ninventoryLotId = \"01JZJZ1FSE-WAW6VBVG-4506XP0C\"\ntraceGraph = system.mes.trackandtrace.getLotTraceGraph(inventoryLotId, \"OUTPUT\")\n\n# Extract the edge IDs from the trace graph\nedgeIds = [edge[\"id\"] for edge in traceGraph[\"edges\"]]\n\n# Use the edge IDs to get detailed trace table information\ntraceTableRows = system.mes.trackandtrace.getLotTraceTable(edgeIds)\n\n# Print the table data\nfor row in traceTableRows:\n    print(f\"Record Type: {row['lotRecordType']}\")\n    print(f\"Source Lot: {row['sourceInventoryLotName']} (Material: {row['sourceMaterialName']})\")\n    print(f\"Target Lot: {row['targetInventoryLotName']} (Material: {row['targetMaterialName']})\")\n    print(f\"Quantity: {row['quantity']} {row['unitOfMeasureSymbol']}\")\n    print(f\"From: {row['sourceLocationPath']} \u2192 To: {row['destinationLocationPath']}\")\n    print(f\"Start: {row['startDate']}, End: {row['endDate']}, Duration: {row['durationInMillis']}ms\")\n    print(\"---\")\n"})}),"\n",(0,i.jsx)(t.h3,{id:"example-output",children:"Example Output"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Record Type: Produce\nSource Lot: Lot-01JZJZ (Material: apple)\nTarget Lot: Lot-01JRGM (Material: cherry)\nQuantity: 100.0 kg\nFrom: /Facility/Line1 \u2192 To: /Facility/Warehouse\nStart: 2023-06-15T14:30:00Z, End: 2023-06-15T14:45:00Z, Duration: 900000ms\n---\n"})})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>c});var n=r(96540);const i={},d=n.createContext(i);function s(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);