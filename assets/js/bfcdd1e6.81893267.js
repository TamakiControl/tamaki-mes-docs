"use strict";(self.webpackChunktamaki_mes_docs=self.webpackChunktamaki_mes_docs||[]).push([[11758],{240:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"appendix/script-api/track-and-trace-script-api/get-lot-trace-graph","title":"getLotTraceGraph","description":"Retrieves adjacent nodes and edges of the track and trace graph for the given inventory lot ID in the specified direction.","source":"@site/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph.md","sourceDirName":"appendix/script-api/track-and-trace-script-api","slug":"/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph","permalink":"/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph","draft":false,"unlisted":false,"editUrl":"https://github.com/TamakiControl/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-graph.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"getLotTraceGraph","description":"Retrieves adjacent nodes and edges of the track and trace graph for the given inventory lot ID in the specified direction.","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"system.mes.trackandtrace","permalink":"/tamaki-mes-docs/docs/category/systemmestrackandtrace"},"next":{"title":"getLotTraceTable","permalink":"/tamaki-mes-docs/docs/appendix/script-api/track-and-trace-script-api/get-lot-trace-table"}}');var d=r(74848),i=r(28453);const s={title:"getLotTraceGraph",description:"Retrieves adjacent nodes and edges of the track and trace graph for the given inventory lot ID in the specified direction.",sidebar_position:0},c="system.mes.trackandtrace.getLotTraceGraph",a={},h=[{value:"Description",id:"description",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"Trace Graph",id:"trace-graph",level:3},{value:"Node",id:"node",level:3},{value:"Node data",id:"node-data",level:4},{value:"Edge",id:"edge",level:3},{value:"Code Example",id:"code-example",level:2},{value:"Example Output",id:"example-output",level:3}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.header,{children:(0,d.jsx)(t.h1,{id:"systemmestrackandtracegetlottracegraph",children:"system.mes.trackandtrace.getLotTraceGraph"})}),"\n",(0,d.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,d.jsxs)(t.p,{children:["Retrieves adjacent and root nodes and edges of the trace graph for the given\n",(0,d.jsx)(t.a,{href:"/tamaki-mes-docs/docs/appendix/data-model/inventory-model/inventory-lot",children:"InventoryLot"})," ID in the specified direction. Only a single level of\nadjacency is returned if depth is 1 or not provided, meaning that the function will return only the nodes and edges that are directly connected to the\nroot node. Otherwise it will fetch ancestors or offspring up to the specified depth."]}),"\n",(0,d.jsx)(t.p,{children:"This function is used by the trace graph component to visualize the flow of materials. Nodes represent inventory lots,\nand edges represent the InventoryLotRecords that connect them."}),"\n",(0,d.jsx)(t.h2,{id:"permissions",children:"Permissions"}),"\n",(0,d.jsx)(t.p,{children:"This scripting function has no client permission restrictions."}),"\n",(0,d.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"system.mes.trackandtrace.getLotTraceGraph(rootNodeId, direction)\nsystem.mes.trackandtrace.getLotTraceGraph(rootNodeId, direction, depth) # Overload\n"})}),"\n",(0,d.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Parameter"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Description"}),(0,d.jsx)(t.th,{children:"Required"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"rootNodeId"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,d.jsx)(t.td,{children:"The ID of the root inventory lot"}),(0,d.jsx)(t.td,{children:"Yes"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"direction"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsxs)(t.td,{children:["The direction of the trace graph to be retrieved. Can be either ",(0,d.jsx)(t.code,{children:"INPUT"})," or ",(0,d.jsx)(t.code,{children:"OUTPUT"})]}),(0,d.jsx)(t.td,{children:"Yes"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"depth "})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Int"})}),(0,d.jsx)(t.td,{children:"The desired maximum depth to which the graph will attempt to generate nodes in the given direction (maximum 5)"}),(0,d.jsx)(t.td,{children:"No"})]})]})]}),"\n",(0,d.jsx)(t.h2,{id:"returns",children:"Returns"}),"\n",(0,d.jsx)(t.p,{children:"A trace graph object with the following properties:"}),"\n",(0,d.jsx)(t.h3,{id:"trace-graph",children:"Trace Graph"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Property"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"nodes"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"List"})," of nodes"]}),(0,d.jsx)(t.td,{children:"List of nodes in the track and trace graph that are adjacent to the root node in the requested direction."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"edges"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"List"})," of edges"]}),(0,d.jsx)(t.td,{children:"List of edges in the track and trace graph that connect the nodes in the requested direction."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"rootNodeId"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The inventory lot ID that was given as an argument in the original request"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"direction"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The direction that was given as an argument in the original request"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"node",children:"Node"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Property"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"id"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,d.jsx)(t.td,{children:"The ID of the node, which is the inventory lot ID"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"data"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Object"})}),(0,d.jsx)(t.td,{children:"The data object contains several properties listed below"})]})]})]}),"\n",(0,d.jsx)(t.h4,{id:"node-data",children:"Node data"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Property"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"lotName"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The name of the inventory lot"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"materialName"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The name of the material associated with this inventory lot"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"materialClassName"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The name of the material class of the material associated with this inventory lot"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"materialDescription"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The description of the material associated with this inventory lot"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"quantity"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Double"})}),(0,d.jsx)(t.td,{children:"The total quantity of inventory processed from the starting node to this one"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"uom"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"String"})}),(0,d.jsx)(t.td,{children:"The unit of measure symbol for the quantity"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"edge",children:"Edge"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Property"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"id"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,d.jsxs)(t.td,{children:["Unique identifier of the ",(0,d.jsx)(t.a,{href:"/tamaki-mes-docs/docs/appendix/data-model/inventory-operation-model/inventory-lot-record",children:"InventoryLotRecord"})," for the edge."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"source"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,d.jsx)(t.td,{children:"The source InventoryLot ID from which this edge originates."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"target"})}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"String"})," (ULID)"]}),(0,d.jsx)(t.td,{children:"The target InventoryLot ID to which this edge points."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"animated"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Boolean"})}),(0,d.jsx)(t.td,{children:"Whether the edge is animated in the track and trace graph."})]})]})]}),"\n",(0,d.jsx)(t.h2,{id:"code-example",children:"Code Example"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'inventoryLotId = "01JZJZ1FSE-WAW6VBVG-4506XP0C"\ntraceGraph = system.mes.trackandtrace.getLotTraceGraph(inventoryLotId, "OUTPUT")\nprint(traceGraph)\n'})}),"\n",(0,d.jsx)(t.h3,{id:"example-output",children:"Example Output"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-json",children:'{\n  "direction": "OUTPUT",\n  "rootNodeId": "01JZJZ1FSE-WAW6VBVG-4506XP0C",\n  "nodes": [\n    {\n      "id": "01JRGMQQQR-FNYB310E-QATAWA9X",\n      "data": {\n        "lotName": "Lot-01JZJZ",\n        "materialName": "cherry",\n        "materialClassName": "BLEND",\n        "materialDescription": null,\n        "quantity": 100.0,\n        "uom": "kg"\n      }\n    }\n  ],\n  "edges": [\n    {\n      "id": "01JZKBA80K-JYT9EC63-BZRVNE6H",\n      "source": "01JZJZ1FSE-WAW6VBVG-4506XP0C",\n      "target": "01JRGMQQQR-FNYB310E-QATAWA9X",\n      "animated": true\n    }\n  ]\n}\n'})})]})}function l(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>c});var n=r(96540);const d={},i=n.createContext(d);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);