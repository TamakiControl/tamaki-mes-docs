"use strict";(self.webpackChunktamaki_mes_docs=self.webpackChunktamaki_mes_docs||[]).push([[79062],{32731:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"user-guides/query-request-guide/query-request-guide","title":"Query Request","description":"Defines a column, condition, and values to filter query data by.","source":"@site/docs/user-guides/query-request-guide/query-request-guide.md","sourceDirName":"user-guides/query-request-guide","slug":"/user-guides/query-request-guide/","permalink":"/tamaki-mes-docs/docs/user-guides/query-request-guide/","draft":false,"unlisted":false,"editUrl":"https://github.com/TamakiControl/tamaki-mes-docs/docs/user-guides/query-request-guide/query-request-guide.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Query Request","description":"Defines a column, condition, and values to filter query data by.","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"User Guides","permalink":"/tamaki-mes-docs/docs/user-guides/intro"},"next":{"title":"Filter Request","permalink":"/tamaki-mes-docs/docs/user-guides/query-request-guide/filter-request-guide"}}');var r=s(74848),n=s(28453);const a={title:"Query Request",description:"Defines a column, condition, and values to filter query data by.",sidebar_position:1},d="Query Request",o={},c=[{value:"Pagination",id:"pagination",level:2},{value:"Sorting",id:"sorting",level:2},{value:"Filtering",id:"filtering",level:2},{value:"Code Examples",id:"code-examples",level:2}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"query-request",children:"Query Request"})}),"\n",(0,r.jsx)(i.p,{children:"In Tamaki MES, you can query the database using a structured method known as a query request. A query request allows\nyou to specify pagination, sorting, and filtering parameters to refine the data you retrieve without needing to write\nan SQL query. This guide will walk you through the components of a query request and provide examples of how to use it\neffectively."}),"\n",(0,r.jsx)(i.p,{children:"Query requests can be used with the following methods"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/material-script-api/find-materials",children:"system.mes.material.findMaterials"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/material-script-api/find-material-classes",children:"system.mes.material.findMaterialClasses"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/material-script-api/find-material-reason-codes",children:"system.mes.material.findMaterialReasonCodes"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/personnel-script-api/find-people",children:"system.mes.personnel.findPeople"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/personnel-script-api/find-departments",children:"system.mes.personnel.findDepartments"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/role-script-api/find-roles",children:"system.mes.role.findRoles"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/location-script-api/find-locations",children:"system.mes.location.findLocations"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/inventory-script-api/find-lots",children:"system.mes.inventory.findLots"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/operation-script-api/find-operations",children:"system.mes.operation.findOperations"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/operation-script-api/find-operation-records",children:"system.mes.operation.findOperationRecords"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/production-order-script-api/find-production-orders",children:"system.mes.productionOrder.findProductionOrders"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/schedule-script-api/find-schedules",children:"system.mes.schedule.findSchedules"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/unit-of-measure-script-api/find-unit-of-measure-conversions",children:"system.mes.unitOfMeasure.findUnitOfMeasureConversions"})}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"pagination",children:"Pagination"}),"\n",(0,r.jsxs)(i.p,{children:["Pagination is used to limit the number of records returned by a query. This is useful when working with large datasets.\nThe ",(0,r.jsx)(i.code,{children:"pageSize"})," parameter specifies the number of records to return, and the ",(0,r.jsx)(i.code,{children:"pageIndex"})," parameter specifies the page\nnumber to return. If either parameter is not specified, pagination is disabled and all records that meet the filter\ncriteria will be returned."]}),"\n",(0,r.jsx)(i.h2,{id:"sorting",children:"Sorting"}),"\n",(0,r.jsxs)(i.p,{children:["Sorting is used to order the records returned by a query. The ",(0,r.jsx)(i.code,{children:"sortFields"})," parameter specifies the fields to sort by.\nMultiple fields can be specified in a list in the order to be sorted by, and should be formatted in camelCase. The\n",(0,r.jsx)(i.code,{children:"sortDirection"}),' parameter specifies the direction to sort in. Accepted values are "Ascending" or "Descending" which\ncan also be abbreviated as "asc" or "desc".']}),"\n",(0,r.jsx)(i.h2,{id:"filtering",children:"Filtering"}),"\n",(0,r.jsxs)(i.p,{children:["Only records that match the conditions specified by the filters will be returned. The ",(0,r.jsx)(i.code,{children:"filters"})," parameter can be a\nlist of one or more ",(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/user-guides/query-request-guide/filter-request-guide",children:"Filter Requests"})," that define conditions to filter by. If left empty, all\nrecords that meet the pagination and sorting criteria will be returned.\nAlternatively, the filter property of a column of a perspective table can be used directly in place of a Filter Request.\nTo do this, combine the filters into a list and pass them to the ",(0,r.jsx)(i.code,{children:"filters"})," parameter of the Query Request."]}),"\n",(0,r.jsx)(i.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsxs)(i.p,{children:["To get an empty query request object, use ",(0,r.jsx)(i.a,{href:"/tamaki-mes-docs/docs/appendix/script-api/query-script-api/new-query-request",children:"newQueryRequest"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"queryRequest = system.mes.query.newQueryRequest()\n"})}),"\n",(0,r.jsx)(i.p,{children:"Here is an example of how to use a Query Request to retrieve the first ten materials created in 2024 sorted by their name."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:'queryRequest = system.mes.query.newQueryRequest()  \nqueryRequest["pageSize"] = 10\nqueryRequest["pageIndex"] = 0\nqueryRequest["sortFields"] = ["name"]\nqueryRequest["sortDirection"] = "Ascending"\n\nfilterRequest = system.mes.query.newFilterRequest()  \nfilterRequest["field"] = "createdDate"  \nfilterRequest["condition"] = "between"  \nfilterRequest["minDateValue"] = "2024-01-01T00:00:00Z"\nfilterRequest["maxDateValue"] = "2025-01-01T00:00:00Z"\n\nfilters = [filterRequest]  \nqueryRequest["filters"] = filters  \nresult = system.mes.material.findMaterials(**queryRequest)\n'})})]})}function u(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,i,s)=>{s.d(i,{R:()=>a,x:()=>d});var t=s(96540);const r={},n=t.createContext(r);function a(e){const i=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(n.Provider,{value:i},e.children)}}}]);