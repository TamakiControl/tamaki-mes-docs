"use strict";(self.webpackChunktamaki_mes_docs=self.webpackChunktamaki_mes_docs||[]).push([[1536],{47078:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>h,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"appendix/data-model/schedule-shift-model/schedule-shift","title":"schedule_shifts","description":"Documentation for the schedule_shifts table, detailing columns and constraints in the database schema.","source":"@site/docs/appendix/data-model/schedule-shift-model/schedule-shift.md","sourceDirName":"appendix/data-model/schedule-shift-model","slug":"/appendix/data-model/schedule-shift-model/schedule-shift","permalink":"/tamaki-mes-docs/docs/appendix/data-model/schedule-shift-model/schedule-shift","draft":false,"unlisted":false,"editUrl":"https://github.com/TamakiControl/tamaki-mes-docs/docs/appendix/data-model/schedule-shift-model/schedule-shift.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"schedule_shifts","description":"Documentation for the schedule_shifts table, detailing columns and constraints in the database schema."},"sidebar":"tutorialSidebar","previous":{"title":"Schedule Shift Model Overview","permalink":"/tamaki-mes-docs/docs/appendix/data-model/schedule-shift-model/intro"},"next":{"title":"schedule_shift_records","permalink":"/tamaki-mes-docs/docs/appendix/data-model/schedule-shift-model/schedule-shift-record"}}');var t=i(74848),n=i(28453);const c={sidebar_position:1,title:"schedule_shifts",description:"Documentation for the schedule_shifts table, detailing columns and constraints in the database schema."},r="Schedule Shift",h={},l=[{value:"Overview",id:"overview",level:2},{value:"Table Structure",id:"table-structure",level:2},{value:"Field Details",id:"field-details",level:2},{value:"<code>description</code> and <code>name</code>",id:"description-and-name",level:3},{value:"<code>running_conflict_strategy</code>",id:"running_conflict_strategy",level:3},{value:"<code>schedule_name</code>",id:"schedule_name",level:3},{value:"<code>schedule_source</code>",id:"schedule_source",level:3},{value:"<code>start_trigger_expression</code> and <code>start_trigger_type</code>",id:"start_trigger_expression-and-start_trigger_type",level:3},{value:"<code>stop_trigger_expression</code> and <code>stop_trigger_type</code>",id:"stop_trigger_expression-and-stop_trigger_type",level:3},{value:"<code>current_shift_record_id</code>",id:"current_shift_record_id",level:3},{value:"<code>location_id</code>",id:"location_id",level:3}];function o(e){const d={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.header,{children:(0,t.jsx)(d.h1,{id:"schedule-shift",children:"Schedule Shift"})}),"\n",(0,t.jsx)(d.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(d.p,{children:["The ",(0,t.jsx)(d.code,{children:"ScheduleShift"})," entity defines a shift pattern or schedule template within the manufacturing environment. It establishes rules for when shifts begin and end, how conflicts are handled, and where the shift takes place. This entity serves as the foundation for scheduling production activities across different time periods."]}),"\n",(0,t.jsx)(d.h2,{id:"table-structure",children:"Table Structure"}),"\n",(0,t.jsxs)(d.p,{children:["The following table outlines the SQL columns for the ",(0,t.jsx)(d.code,{children:"schedule_shifts"})," table, providing a brief description of\neach, along with sample data where applicable."]}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Column"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"}),(0,t.jsx)(d.th,{children:"Example"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"id"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (ULID)"]}),(0,t.jsx)(d.td,{children:"Unique identifier for the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"01JAP8RJBN-8ZTPXSGY-J9GSDPE1"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"enabled"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Boolean"})}),(0,t.jsx)(d.td,{children:"If the entity is enabled or not."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"true"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"created_date"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DateTime"})}),(0,t.jsx)(d.td,{children:"Date the entity was created."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"2024-12-31T19:48:44Z"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"created_by"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Person who created the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"TamakiMES"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"modified_date"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DateTime"})}),(0,t.jsx)(d.td,{children:"Date the entity was modified. Value is null upon creation, and gets initially populated upon the first edit."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"2024-12-31T19:48:44Z"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"modified_by"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Last person to modify the entity. Value is null upon creation, and gets initially populated upon the first edit."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"TamakiMES"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"notes"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Blob"})}),(0,t.jsx)(d.td,{children:"Notes about the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"This entity has these extra notes"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"spare1"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"The first spare column that can be used for additional context on the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"some extra context 1"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"spare2"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"The second spare column that can be used for additional context on the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"some extra context 2"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"spare3"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"The third spare column that can be used for additional context on the entity."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"some extra context 3"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"description"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Detailed description of the shift pattern or schedule."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Morning shift Monday-Friday"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"name"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Name identifier for the schedule shift."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Morning Shift"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"running_conflict_strategy"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (Enum)"]}),(0,t.jsx)(d.td,{children:"Strategy for handling conflicts when a new shift starts while another is still running."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"THROW_EXCEPTION"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"schedule_name"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Name of schedule that defines this shift's timings."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Weekday Schedule"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"schedule_source"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (Enum)"]}),(0,t.jsxs)(d.td,{children:["Source of the schedule that defines this shift's timings (eg. ",(0,t.jsx)(d.code,{children:"IGNITION_SCHEDULE"}),", ",(0,t.jsx)(d.code,{children:"INGITION_EXPRESSION"}),", ",(0,t.jsx)(d.code,{children:"MES_SCHEDULE"}),")."]}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"IGNITION_SCHEDULE"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"start_trigger_expression"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Expression used to determine when the shift should start."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"0 0 6 * * 1-5"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"start_trigger_type"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (Enum)"]}),(0,t.jsxs)(d.td,{children:["Type of trigger mechanism used to start the shift (eg. ",(0,t.jsx)(d.code,{children:"RISING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"FALLING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"CHANGE"}),")."]}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CHANGE"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"stop_trigger_expression"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"String"})}),(0,t.jsx)(d.td,{children:"Expression used to determine when the shift should end."}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"0 0 14 * * 1-5"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"stop_trigger_type"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (Enum)"]}),(0,t.jsxs)(d.td,{children:["Type of trigger mechanism used to end the shift (eg. ",(0,t.jsx)(d.code,{children:"RISING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"FALLING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"CHANGE"}),")."]}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CHANGE"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"current_shift_record_id"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (ULID)"]}),(0,t.jsxs)(d.td,{children:["Reference to the current active shift record for this schedule shift. See ",(0,t.jsx)(d.a,{href:"../schedule-shift-model/schedule-shift-record",children:"schedule_shift_records"}),"."]}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"01JAP8RJBN-8ZTPXSGY-J9GSDPE1"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"location_id"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"String"})," (ULID)"]}),(0,t.jsxs)(d.td,{children:["Reference to the location where this schedule shift runs. See ",(0,t.jsx)(d.a,{href:"../location-model/location",children:"locations"}),"."]}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"01JAP8RJBN-8ZTPXSGY-J9GSDPE1"})})]})]})]}),"\n",(0,t.jsx)(d.h2,{id:"field-details",children:"Field Details"}),"\n",(0,t.jsxs)(d.h3,{id:"description-and-name",children:[(0,t.jsx)(d.code,{children:"description"})," and ",(0,t.jsx)(d.code,{children:"name"})]}),"\n",(0,t.jsxs)(d.p,{children:["These fields provide human-readable identifiers for the shift pattern. The ",(0,t.jsx)(d.code,{children:"name"})," is typically a short identifier, while the ",(0,t.jsx)(d.code,{children:"description"})," provides more detailed information about when and how the shift operates."]}),"\n",(0,t.jsx)(d.h3,{id:"running_conflict_strategy",children:(0,t.jsx)(d.code,{children:"running_conflict_strategy"})}),"\n",(0,t.jsx)(d.p,{children:"Specifies how the system should handle situations where a new shift is triggered to start while another shift is still active. possible values include:"}),"\n",(0,t.jsxs)(d.ul,{children:["\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"THROW_EXCEPTION"}),": Throws an exception if a shift is already running."]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"STOP_PREVIOUS"}),": Stops the previous shift and starts a new one."]}),"\n"]}),"\n",(0,t.jsx)(d.h3,{id:"schedule_name",children:(0,t.jsx)(d.code,{children:"schedule_name"})}),"\n",(0,t.jsx)(d.p,{children:"This field references the name of the schedule that defines the timings for this shift. It is used to link the shift pattern to a specific schedule configuration, which may include start and end times, days of the week, and other scheduling rules."}),"\n",(0,t.jsx)(d.h3,{id:"schedule_source",children:(0,t.jsx)(d.code,{children:"schedule_source"})}),"\n",(0,t.jsxs)(d.p,{children:[(0,t.jsx)(d.code,{children:"schedule_source"})," can have the following values:"]}),"\n",(0,t.jsxs)(d.ul,{children:["\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"IGNITION_SCHEDULE"}),": Indicates it needs to have a corresponding schedule in the alarming section of the gateway: ",(0,t.jsx)(d.a,{href:"https://www.docs.inductiveautomation.com/docs/8.1/platform/alarming/alarming-schedules",children:"Ignition Alarming Schedules"}),"."]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"IGNITION_EXPRESSION"}),": Indicates that you need start and stop expression triggers."]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"MES_SCHEDULE"}),": TBD"]}),"\n"]}),"\n",(0,t.jsxs)(d.h3,{id:"start_trigger_expression-and-start_trigger_type",children:[(0,t.jsx)(d.code,{children:"start_trigger_expression"})," and ",(0,t.jsx)(d.code,{children:"start_trigger_type"})]}),"\n",(0,t.jsxs)(d.p,{children:["These fields define when and how a shift should start. The ",(0,t.jsx)(d.code,{children:"start_trigger_type"})," specifies the mechanism (such as ",(0,t.jsx)(d.code,{children:"RISING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"FALLING_EDGE"}),", and ",(0,t.jsx)(d.code,{children:"CHANGE"}),"), while the ",(0,t.jsx)(d.code,{children:"start_trigger_expression"})," provides the specific configuration for that mechanism."]}),"\n",(0,t.jsxs)(d.h3,{id:"stop_trigger_expression-and-stop_trigger_type",children:[(0,t.jsx)(d.code,{children:"stop_trigger_expression"})," and ",(0,t.jsx)(d.code,{children:"stop_trigger_type"})]}),"\n",(0,t.jsxs)(d.p,{children:["Similar to the start trigger fields, these define when and how a shift should end. Possible values for ",(0,t.jsx)(d.code,{children:"stop_trigger_type"})," are ",(0,t.jsx)(d.code,{children:"RISING_EDGE"}),", ",(0,t.jsx)(d.code,{children:"FALLING_EDGE"}),", and ",(0,t.jsx)(d.code,{children:"CHANGE"}),"."]}),"\n",(0,t.jsx)(d.h3,{id:"current_shift_record_id",children:(0,t.jsx)(d.code,{children:"current_shift_record_id"})}),"\n",(0,t.jsx)(d.p,{children:"References the currently active shift record associated with this schedule shift, if one exists. This allows for quick access to the current instance of this shift pattern."}),"\n",(0,t.jsx)(d.h3,{id:"location_id",children:(0,t.jsx)(d.code,{children:"location_id"})}),"\n",(0,t.jsxs)(d.p,{children:["References the location where this shift schedule applies. If there is no shift running at the specified location, this field can be null. When looking for the ",(0,t.jsx)(d.code,{children:"ScheduleShift"})," of a specific location, the system will first check if there is a shift running at that location. If not, it will check that location's parent location, and so on, until it finds the first ",(0,t.jsx)(d.code,{children:"ScheduleShift"})," for a location that encompasses its own location."]})]})}function a(e={}){const{wrapper:d}={...(0,n.R)(),...e.components};return d?(0,t.jsx)(d,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,d,i)=>{i.d(d,{R:()=>c,x:()=>r});var s=i(96540);const t={},n=s.createContext(t);function c(e){const d=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function r(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(n.Provider,{value:d},e.children)}}}]);